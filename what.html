<!doctype html>
<html>
 <head>
   <meta charset="utf-8">
   <title>idk</title>
   <link rel="icon"href="icon.png">
  </head>  

  <body>
    
  </body>
</html>
<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>圆周率终端</title>
<style>
    body {
        background: #050505;
        color: #e5ffe5;
        font-family: "Consolas", "微软雅黑", sans-serif;
        padding: 40px;
        overflow-x: hidden;
    }
    .container {
        max-width: 700px;
        margin: auto;
        background: rgba(10,20,10,0.5);
        padding: 25px;
        border-radius: 12px;
        border: 1px solid rgba(0,255,100,.4);
        box-shadow: 0 0 25px rgba(0,255,100,.3);
    }
    h2 { 
        text-align: center;
        text-shadow: 0 0 8px #0f0;
    }
    input {
        width: 100%;
        padding: 10px;
        font-size: 20px;
        margin-top: 10px;
        border-radius: 6px;
        border: 1px solid #0f0;
        background: rgba(0,0,0,0.6);
        color: #0f0;
    }
    button {
        width: 100%;
        padding: 12px;
        margin-top: 15px;
        background: #0a0;
        border: none;
        color: white;
        font-size: 22px;
        border-radius: 6px;
        cursor: pointer;
    }
    button:hover { background: #070; }

    /* 对话框 */
    .dialog {
        margin-top: 20px;
        padding: 25px;
        background: rgba(0,30,0,0.7);
        border: 1px solid #0f0;
        border-radius: 8px;
        font-size: 24px;
        line-height: 1.6;
        min-height: 120px;
        white-space: pre-wrap;
    }

    /* 崩坏动画 */
    @keyframes corrupt {
        0% { transform: none; filter: none; }
        20% { transform: translate(2px,-3px) skewX(2deg); filter: hue-rotate(60deg); }
        40% { transform: translate(-3px,4px) skewY(3deg); filter: hue-rotate(120deg); }
        60% { transform: translate(4px,-1px) skewX(-4deg); filter: contrast(250%); }
        80% { transform: translate(-2px,2px) skewY(-3deg); filter: brightness(2.5); }
        100% { transform: none; filter: none; }
    }
    .broken {
        animation: corrupt 0.15s infinite;
    }
</style>
</head>
<body>

<div class="container" id="mainBox">
    <h2>圆周率查询终端</h2>
    <p>请不要尝试查询过深的位数。</p>

    <input id="pos" type="number" placeholder="输入小数点后第 N 位">

    <button id="queryBtn" onclick="action()">查询</button>

    <div id="dialog" class="dialog"></div>
</div>

<script>
// ========== 圆周率基础 ========== //
const realPiPrefix = "14159265358979";
let piDigits = realPiPrefix.split("");

function ensureLength(n) {
    while (piDigits.length < n) {
        piDigits.push(Math.floor(Math.random()*10).toString());
    }
}

// ========== 剧情语录（一次性触发） ========== //
let storyline = [
    // 神秘阶段
    "……你真的要继续查下去？",
    "数字越深，越不像是数字。",
    "听……它们在彼此低语。",
    "我们本不该透视圆周率的深处。",
    "你的手为什么还在动？",
    
    // 吐槽阶段
    "你到底在找什么？",
    "你这是在用数字召唤什么吗？",
    "你是不是把我当成祭品了？",

    // 异常阶段
    "不对劲……有东西在干扰计算。",
    "这个位的数字……不是我生成的。",
    "数据在自己增长。停不下来了。",
    "你有没有听到？那个声音……",
    "为什么这些数字看起来像在看我？",

    // 崩坏前兆
    "……它醒过来了。",
    "停下。不要再往下查了。",
    "你正在触及它留下的痕迹。",
    "这不是圆周率。这是通道。",
    "如果你继续，我们两个都回不去了。",

    // 终焉语句（崩坏触发）
    "错误：序列侵入。",
    "错误：视域溢出。",
    "错误：意识回环。",
    "错误：你已经太深了。",
    "系统崩毁：刷新以逃离。"
];

// 当前使用到第几句
let index = 0;

function action() {
    const n = parseInt(pos.value);
    ensureLength(n);

    // 显示数字本体（简单）
    let digit = piDigits[n - 1];
    let text = `第 ${n} 位： ${digit}\n\n`;

    // 显示当前剧情语句
    text += storyline[index];
    dialog.innerText = text;

    index++;

    // 全部语句出现 → 崩坏
    if (index >= storyline.length) {
        collapse();
    }
}

// ========== 网站崩坏效果 ========== //
function collapse() {
    // 禁用按钮
    document.getElementById("queryBtn").remove();

    // 画面开始崩坏
    document.getElementById("mainBox").classList.add("broken");

    // 文字破碎
    let interval = setInterval(() => {
        dialog.innerText += "\n" + randomCorruptString();
    }, 150);

    // 不可逆（直到刷新）
}

function randomCorruptString() {
    const chars = "01▉▓▒░<>#%/&$@";
    let out = "";
    for (let i=0; i<Math.random()*30+10; i++) {
        out += chars[Math.floor(Math.random()*chars.length)];
    }
    return out;
}
</script>

</body>
</html>
